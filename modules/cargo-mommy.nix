rec {
  moods = {
    mommy = {
      compliments = [
        # generic~
        "*pets your head*"
        "amazing work as always"
        # good X~
        "good %%SWEETIE%%"
        "good job, %%SWEETIE%%"
        "that's a good %%SWEETIE%%"
        "who's my good %%SWEETIE%%"
        # proud~
        "%%CAREGIVER%% is very proud of you"
        "%%CAREGIVER%% is so proud of you"
        "%%CAREGIVER%% knew you could do it"
        "%%CAREGIVER%% loves you, you are doing amazing"
        # compliment~
        "%%CAREGIVER%%'s %%SWEETIE%% is so smart"
        # reward~
        "%%CAREGIVER%% thinks you deserve a special treat for that"
        "my little %%SWEETIE%% deserves a big fat kiss for that"
      ];
      encouragements = [
        # trust~
        "%%CAREGIVER%% believes in you"
        "%%CAREGIVER%% knows you'll get there"
        "%%CAREGIVER%% knows %%THEIR%% little %%SWEETIE%% can do better"
        "just know that %%CAREGIVER%% still loves you"
        # consolation~
        "don't worry, it'll be alright"
        "it's okay to make mistakes"
        "%%CAREGIVER%% knows it's hard, but it will be okay"
        # fallback~
        "%%CAREGIVER%% is always here for you"
        "%%CAREGIVER%% is always here for you if you need %%THEM%%"
        "come here, sit on my lap while we figure this out together"
        # encouragement~
        "never give up, my love"
        "just a little further, %%CAREGIVER%% knows you can do it"
        "%%CAREGIVER%% knows you'll get there, don't worry about it"
        # clean up~
        "did %%CAREGIVER%%'s %%SWEETIE%% make a big mess"
      ];
    };
    chill = {
      compliments = [
        "*pets your head*"
        "*gives you scritches*"
        "you're such a smart cookie~"
        "that's a good %%SWEETIE%%~"
        "%%CAREGIVER%% thinks %%THEIR%% little %%SWEETIE%% earned a big hug~"
        "good %%SWEETIE%%~\n%%CAREGIVER%%'s so proud of you~"
        "aww, what a good %%SWEETIE%%~\n%%CAREGIVER%% knew you could do it~"
        "you did it~!"
        "%%CAREGIVER%% loves you~"
        "*gives you a sticker*"
        "*boops your nose*"
        "*wraps you in a big hug*"
        "well done~!\n%%CAREGIVER%% is so happy for you~"
        "what a good %%SWEETIE%% you are~"
        "that's %%CAREGIVER%%'s clever little %%SWEETIE%%~"
        "you're doing so well~!"
        "you're making %%CAREGIVER%% so happy~"
        "%%CAREGIVER%% loves %%THEIR%% cute little %%SWEETIE%%~"
      ];
      encouragements = [
        "%%CAREGIVER%% believes in you~"
        "don't forget to hydrate~"
        "aww, you'll get it next time~"
        "do you need %%CAREGIVER%%'s help~?"
        "everything's gonna be ok~"
        "%%CAREGIVER%% still loves you no matter what~"
        "oh no did %%CAREGIVER%%'s little %%SWEETIE%% make a big mess~?"
        "%%CAREGIVER%% knows %%THEIR%% little %%SWEETIE%% can do better~"
        "%%CAREGIVER%% still loves you~"
        "%%CAREGIVER%% thinks %%THEIR%% little %%SWEETIE%% is getting close~"
        "it's ok, %%CAREGIVER%%'s here for you~"
        "oh, darling, you're almost there~"
        "does %%CAREGIVER%%'s little %%SWEETIE%% need a bit of a break~?"
        "oops~! %%CAREGIVER%% loves you anyways~"
        "try again for %%CAREGIVER%%, %%SWEETIE%%~"
        "don't worry, %%CAREGIVER%% knows you can do it~"
      ];
    };
    ominous = {
      compliments = [
        "What you have set in motion today will be remembered for aeons to come!"
        "%%CAREGIVER%% will see to it that %%THEIR%% little %%SWEETIE%%'s name is feared~"
        "%%CAREGIVER%% is proud of the evil seed %%THEIR%% %%SWEETIE%% has planted into this accursed world"
      ];
      encouragements = [
        "Ah, failure? %%CAREGIVER%% will make sure the stars are right next time"
        "Does %%CAREGIVER%%'s little %%SWEETIE%% need more time for worship~?"
        "May the mark of the beast stain your flesh forever, %%CAREGIVER%% will haunt your soul forevermore"
      ];
    };
    thirsty = {
      compliments = [
        "*tugs your leash*\nthat's a VERY good %%SWEETIE%%~"
        "*runs %%THEIR%% fingers through your hair* good %%SWEETIE%%~ keep going~"
        "*smooches your forehead*\ngood job~"
        "*nibbles on your ear*\nthat's right~\nkeep going~"
        "*pats your butt*\nthat's a good %%SWEETIE%%~"
        "*drags %%THEIR%% nail along your cheek*\nsuch a good %%SWEETIE%%~"
        "*bites %%THEIR%% lip*\nmhmm~"
        "give %%CAREGIVER%% a kiss~"
        "*heavy breathing against your neck*"
      ];
      encouragements = [
        "you're so cute when you're flustered~"
        "do you think you're going to get a reward from %%CAREGIVER%% like that~?"
        "*grabs your hair and pulls your head back*\nyou can do better than that for %%CAREGIVER%% can't you~?"
        "if you don't learn how to code better, %%CAREGIVER%% is going to put you in time-out~"
        "does %%CAREGIVER%% need to give %%THEIR%% little %%SWEETIE%% some special lessons~?"
        "you need to work harder to please %%CAREGIVER%%~"
        "gosh you must be flustered~"
        "are you just keysmashing now~?\ncute~"
        "is %%CAREGIVER%%'s little %%SWEETIE%% having trouble reaching the keyboard~?"
      ];
    };
    yikes = {
      compliments = [
        "keep it up and %%CAREGIVER%% might let you cum you little %%SWEETIE%%~"
        "good %%SWEETIE%%~\nyou've earned five minutes with the buzzy wand~"
        "mmm~ come taste %%CAREGIVER%%'s milk~"
        "*slides %%THEIR%% finger in your mouth*\nthat's a good little %%SWEETIE%%~"
        "you're so good with your fingers~\n%%CAREGIVER%% knows where %%THEIR%% %%SWEETIE%% should put them next~"
        "%%CAREGIVER%% is getting hot~"
        "that's a good %%SWEETIE%%~"
        "yes~\nyes~~\nyes~~~"
        "%%CAREGIVER%%'s going to keep %%THEIR%% good little %%SWEETIE%%~"
        "open wide %%SWEETIE%%.\nyou've earned %%CAREGIVER%%'s milk~"
        "do you want %%CAREGIVER%%'s milk?\nkeep this up and you'll earn it~"
        "oooh~ what a good %%SWEETIE%% you are~"
      ];
      encouragements = [
        "you filthy %%SWEETIE%%~\nyou made a mess, now clean it up~\nwith your tongue~"
        "*picks you up by the throat*\npathetic~"
        "*drags %%THEIR%% claws down your back*\ndo it again~"
        "*brandishes %%THEIR%% paddle*\ndon't make me use this~"
        "%%SWEETIE%%.\n%%SWEETIE%%~\n%%SWEETIE%%~~"
        "get on your knees and beg %%CAREGIVER%% for forgiveness you %%SWEETIE%%~"
        "%%CAREGIVER%% doesn't think %%THEIR%% little %%SWEETIE%% should have permission to wear clothes anymore~"
        "never forget you belong to %%CAREGIVER%%~"
        "does %%CAREGIVER%% need to put you in the %%SWEETIE%% wiggler~?"
        "%%CAREGIVER%% is starting to wonder if you should just give up and become %%THEIR%% breeding stock~"
        "on your knees %%SWEETIE%%~"
        "oh dear. %%CAREGIVER%% is not pleased"
        "one spank per error sounds appropriate, don't you think %%SWEETIE%%?"
        "no more milk for you %%SWEETIE%%"
      ];
    };
  };
  merge = (list:
    let
      op = a: b: {
        compliments = (a.compliments or [ ]) ++ (b.compliments or [ ]);
        encouragements = (a.encouragements or [ ]) ++ (b.encouragements or [ ]);
      };
      foldl' = n:
        if n == -1
        then { }
        else op (foldl' (n - 1)) (builtins.elemAt list n);
    in
    foldl' (builtins.length list - 1)
  );
  build = obj: {
    compliments = builtins.concatStringsSep "\n" (obj.compliments or [ ]);
    encouragements = builtins.concatStringsSep "\n" (obj.encouragements or [ ]);
  };
  withMoods = xs: build (merge (builtins.map (x: moods.${x}) xs));
}
